

<div class="Button">
  <p-button label="Add Employee" [style]="{ 'border-radius': '10px' }" (click)="show()"></p-button>
</div>
<div class="row mt-5">
    <p-table
      #dataTable
      [value]="employeeData"
      class="table table-wrap table-striped table-hover"
      [paginator]="true"
      [rows]="10"
      [rowsPerPageOptions]="[10, 20,30]"
      [globalFilterFields]="['designationName', 'firstName', 'lastName', 'email', 'mobile']"
    >
       <!-- SEARCH BAR -->
       <ng-template pTemplate="caption">
        <div class="p-d-flex text-end">
          <span class="p-input-icon-left p-ml-auto">
            <i class="pi pi-search"></i>
            <input
              pInputText
              type="text"
              (input)="dataTable.filterGlobal($any($event.target).value, 'contains')"
              placeholder="Search keyword" />
          </span>
        </div>
      </ng-template>
      <!-- HEADER -->
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="firstName">First Name
            <p-sortIcon field="firstName"></p-sortIcon> 
          </th>
          <th pSortableColumn="lastName">Last Name
            <p-sortIcon field="lastName"></p-sortIcon> 
          </th>
          <th pSortableColumn="gender">Gender
            <p-sortIcon field="gender"></p-sortIcon> 
          </th>
          <th pSortableColumn="dob">Date of Birth
            <p-sortIcon field="dob"></p-sortIcon> 
          </th>
          <th pSortableColumn="email">Email
            <p-sortIcon field="email"></p-sortIcon> 
          </th>
          <th pSortableColumn="designationName">Designation Name
            <p-sortIcon field="designationName"></p-sortIcon> 
          </th>
          <th pSortableColumn="mobile">Mobile
            <p-sortIcon field="mobile"></p-sortIcon> 
          </th>
          <th pSortableColumn="doj">Date of Joining
            <p-sortIcon field="doj"></p-sortIcon> 
          </th>
          <th pSortableColumn="dol">Date of Leave
            <p-sortIcon field="dol"></p-sortIcon> 
          </th>

          <th pSortableColumn="salary">Salary
            <p-sortIcon field="salary"></p-sortIcon> 
          </th>
          <th>Actions</th>
        </tr>
      </ng-template>
  
      <!-- BODY -->
      <ng-template pTemplate="body" let-rowData>
        <tr>
          <td>{{ rowData.firstName}}</td>
          <td>{{ rowData.lastName }}</td>
          <td>{{ rowData.gender }}</td>
          <td>{{ rowData.dob | date: 'yyyy-MM-dd' }}</td>
          <td>{{ rowData.email }}</td>
          <td>{{ rowData.designation?.designationName  }}</td>
          <td>{{ rowData.mobile }}</td>
          <td>{{ rowData.doj | date: 'yyyy-MM-dd' }}</td>
          <td>{{ rowData.dol | date: 'yyyy-MM-dd' }}</td>
          <td>{{ rowData.salary |  number:'1.0-0' }}</td>
          <td>
            <i class="pi pi-eye action-icon" (click)="viewEmployee(rowData)" title="View Invoice"></i>
            <i class="pi pi-pen-to-square action-icon" title="Edit Employee" (click)="editEmployee(rowData)"></i>
            <i
            class="pi pi-trash action-icon text-danger"
            title="Delete Employee"
            (click)="onDelete(rowData)"
          ></i>
          </td>
        </tr>
      </ng-template>
  
      <!-- EMPTY MESSAGE -->
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="11" style="text-align: center;">No records found.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  
  